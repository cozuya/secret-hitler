extends layout
block content
	audio#header-audio(src="../sounds/banner-summer.mp3" loop)
	img(src='../images/banner-summer.gif', style="width: 0; height: 0;")
	if username
		a(href="/game/") Game Lobby
			#header-container.ui.segment
				div.online-count
					i.user.icon
					span#player-count
					|	players online now
	else
		a(href="/observe/") Game Lobby
			#header-container.ui.segment
				div.online-count
					i.user.icon
					span#player-count
					|	players online now
	.ui.segment
		.ui.grid.mainpage
			.row.stackable#general-info
				.eight.wide.column
					h1(style="font-size: 22px;") Play the hit board game in your browser! Always free and no ads.
					p Secret Hitler is a dramatic game of political intrigue and betrayal set in 1930's Germany. Players are secretly divided into two teams - liberals and fascists. Known only to each other, the fascists coordinate to sow distrust and install their cold-blooded leader. The liberals must find and stop the Secret Hitler before it is too late.
					p Check out our #[a(href="https://github.com/cozuya/secret-hitler/wiki") wiki page] to learn about the game, or hop into the #[a(href="/observe") the game lobby] itself right now.
					h2 #[a(href="https://discord.gg/secrethitlerio", style=("font-size: 22px;color: #c36563; text-decoration: underline")) Join our community on discord].
				.eight.wide.column.news
					h2(style="color: #000").ui.header News
					p Issues/bugs can be reported in the #[a(href="https://discord.gg/secrethitlerio") discord development channel], or by opening a #[a(href="https://github.com/cozuya/secret-hitler/issues") github issue].
					h3 Welcome to Season 15!
					h3 Version 1.8 released 07-01-2021
					p #[a(href="/observe/#/changelog") Check out the changes!]
	script.
		var audioEl = document.getElementById('header-audio');
		var headerEl = document.getElementById('header-container')

		headerEl.addEventListener('mouseenter', function() {window.plausible('Banner Engagement');audioEl.play()})
		headerEl.addEventListener('mouseleave', function() {audioEl.pause()})


